{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2025-04-16 09:34:42.542635",
 "css": ".set-padding td{\n    padding:4px !important;\n}\n.set-padding-top td{\n    padding:6px !important;\n}\n\n.set-padding thead td {\n    padding: 6px !important;\n    text-align:center;\n}\n\nhr{\n    margin-top:14px;\n    margin-bottom:14px;\n}",
 "custom_format": 0,
 "default_print_language": "en-US",
 "disabled": 0,
 "doc_type": "Purchase Invoice",
 "docstatus": 0,
 "doctype": "Print Format",
 "font_size": 14,
 "format_data": "[{\"fieldname\": \"print_heading_template\", \"fieldtype\": \"Custom HTML\", \"options\": \"<div></div>\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"{% set comp_doc = frappe.get_doc(\\\"Company\\\", doc.company) if doc.company else None %}\\n{% set supp_doc = frappe.get_doc(\\\"Supplier\\\", doc.supplier) if doc.supplier else None %}\\n{% set supp_con = frappe.get_doc(\\\"Contact\\\", doc.contact_person) if doc.contact_person else None %}\\n{% set add_doc = None %}\\n{% set supplier_add_doc = None %}\\n\\n{% set add_list = frappe.get_list(\\\"Dynamic Link\\\",\\n                    filters={\\n                        \\\"link_name\\\": doc.company,\\n                        \\\"parenttype\\\": \\\"Address\\\"\\n                    },\\n                    fields=[\\\"parent\\\"],\\n                    ignore_permissions=true\\n                )%}\\n                {% if add_list %}\\n                    {% set add_doc = frappe.get_doc('Address', add_list[0].parent) %}\\n                {% endif %}\\n                \\n{% set supplier_add_list = frappe.get_list(\\\"Dynamic Link\\\",\\n                    filters={\\n                        \\\"link_name\\\": doc.supplier,\\n                        \\\"parenttype\\\": \\\"Address\\\"\\n                    },\\n                    fields=[\\\"parent\\\"],\\n                    ignore_permissions=true\\n                )%}\\n                {% if supplier_add_list %}\\n                    {% set supplier_add_doc = frappe.get_doc('Address', supplier_add_list[0].parent) %}\\n                {% endif %}\\n                    \\n        <div style=\\\"text-align: center;\\\">\\n            <div style=\\\"font-size: 18px; font-weight: bold;\\\">\\u0641\\u0627\\u062a\\u0648\\u0631\\u0629 \\u0627\\u0644\\u0634\\u0631\\u0627\\u0621</div>\\n            <div style=\\\"font-size: 18px; font-weight: bold;\\\">PURCHASE INVOICE</div>\\n        </div>\\n       \\n  \\n<div style=\\\"width:100%;font-size:9px\\\">\\n    <div style=\\\"float:right;width:38%;margin-right:-45px\\\">\\n        <table class=\\\"set-padding-top\\\">\\n            <tr>\\n                <td style=\\\"width:30%;border:1px solid black;background-color:#f2f2f2;\\\">DATE:</td>\\n                <td style=\\\"width:40%;border:1px solid black;\\\">{{doc.posting_date}}</td>\\n                <td style=\\\"width:30%;border:1px solid black;background-color:#f2f2f2;\\\">\\n                    \\u062a\\u0627\\u0631\\u064a\\u062e \\u0627\\u0644\\u0641\\u0627\\u062a\\u0648\\u0631\\u0629\\n\\n</td>\\n            </tr>\\n        </table>\\n    </div>\\n    <div style=\\\"width:44%\\\">\\n         <table class=\\\"set-padding-top\\\">\\n            <tr>\\n                <td style=\\\"width:28%;border:1px solid black;background-color:#f2f2f2;\\\">Invoice No:</td>\\n                <td style=\\\"width:46%;border:1px solid black;padding-right:1px !important;padding-left:1px !important;text-align:center;\\\">{{doc.name}}</td>\\n                <td style=\\\"width:28%;border:1px solid black;background-color:#f2f2f2;\\\">\\n                    \\u0631\\u0642\\u0645 \\u0627\\u0644\\u0641\\u0627\\u062a\\u0648\\u0631\\u0629\\n                    \\n                </td>\\n            </tr>\\n        </table>\\n    </div>\\n</div>\\n\\n\\n<br>\\n\\n<table class=\\\"set-padding\\\" style=\\\"width:100%\\\">\\n    <tr>\\n    <td colspan=\\\"2\\\" style=\\\"width:49%;border:1px solid black;text-align:left;\\\">\\n            Supplier Details\\n            <span style=\\\"float:right;\\\">\\u062a\\u0641\\u0627\\u0635\\u064a\\u0644 \\u0627\\u0644\\u0645\\u0648\\u0631\\u062f</span>\\n    </td>\\n    <td></td>\\n    <td colspan=\\\"2\\\" style=\\\"width:50%;border:1px solid black;text-align:left;\\\">\\n        Company Details \\n        <span style=\\\"float:right;\\\">\\u062a\\u0641\\u0627\\u0635\\u064a\\u0644 \\u0627\\u0644\\u0634\\u0631\\u0643\\u0629</span>\\n    </td>\\n</tr>\\n    <tr style=\\\"font-size:10px\\\">\\n        <td style=\\\"width:23%;border:1px solid black;background-color:#f2f2f2\\\">Supplier Name</td>\\n        <td style=\\\"width:22%;border:1px solid black\\\">\\n            {{doc.supplier_name}}\\n        </td>\\n          <td>\\n            \\n        </td>\\n         <td style=\\\"width:25%;border:1px solid black;background-color:#f2f2f2\\\">Company Name\\n</td>\\n        <td style=\\\"width:25%;border:1px solid black\\\">\\n            {{doc.company}}\\n        </td>\\n    </tr>\\n    <tr style=\\\"font-size:10px\\\">\\n        <td style=\\\"width:20%;border:1px solid black;background-color:#f2f2f2\\\">\\n            \\u0627\\u0633\\u0645 \\u0627\\u0644\\u0645\\u0648\\u0631\\u062f \\n\\n        </td>\\n        <td style=\\\"width:29%;border:1px solid black\\\">\\n        {% set supplier_name_ar = frappe.db.get_value(\\\"Supplier\\\", doc.supplier, \\\"supplier_name_in_arabic\\\") or '' %}\\n        {% if supplier_name_ar %}\\n            {{ supplier_name_ar }}\\n        {% endif %}\\n        </td>\\n          <td>\\n            \\n        </td>\\n        \\n         <td style=\\\"width:20%;border:1px solid black;background-color:#f2f2f2\\\">\\n         \\u0627\\u0633\\u0645 \\u0627\\u0644\\u0634\\u0631\\u0643\\u0629 \\n\\n    </td>\\n        <td style=\\\"width:29%;border:1px solid black\\\">\\n            {% if comp_doc.company_name_in_arabic %}\\n            {{comp_doc.company_name_in_arabic or ''}}\\n            {% endif %}\\n        </td>\\n    </tr>\\n    \\n    <tr style=\\\"font-size:10px\\\">\\n        <td style=\\\"width:20%;border:1px solid black;background-color:#f2f2f2\\\">\\n            VAT No. / \\u0627\\u0644\\u0631\\u0642\\u0645 \\u0627\\u0644\\u0636\\u0631\\u064a\\u0628\\u064a\\n\\n        </td>\\n        <td style=\\\"width:29%;border:1px solid black\\\">\\n            {{supp_doc.tax_id or ''}}\\n        </td>\\n          <td>\\n            \\n        </td>\\n         <td style=\\\"width:20%;border:1px solid black;background-color:#f2f2f2\\\">\\n             VAT No. / \\u0627\\u0644\\u0631\\u0642\\u0645 \\u0627\\u0644\\u0636\\u0631\\u064a\\u0628\\u064a\\n\\n</td>\\n        <td style=\\\"width:29%;border:1px solid black\\\">\\n            {{comp_doc.tax_id or ''}}\\n        </td>\\n    </tr>\\n    <tr style=\\\"font-size:10px\\\">\\n        <td style=\\\"width:20%;border:1px solid black;background-color:#f2f2f2\\\">\\n            Contact Name / \\u0627\\u0633\\u0645 \\u062c\\u0647\\u0629 \\u0627\\u0644\\u0627\\u062a\\u0635\\u0627\\u0644\\n\\n        </td>\\n        <td style=\\\"width:29%;border:1px solid black\\\">\\n           {{doc.contact_display or ''}}  \\n        </td>\\n          \\n            \\n          <td>\\n        </td>\\n         <td style=\\\"width:20%;border:1px solid black;background-color:#f2f2f2\\\">\\n             Contact Name / \\u0627\\u0633\\u0645 \\u062c\\u0647\\u0629 \\u0627\\u0644\\u0627\\u062a\\u0635\\u0627\\u0644\\n\\n</td>\\n        <td style=\\\"width:29%;border:1px solid black\\\">\\n        {{frappe.db.get_value(\\\"User\\\", doc.owner, \\\"first_name\\\") or ''}}\\n        </td>\\n    </tr>\\n    <tr style=\\\"font-size:10px\\\">\\n        <td style=\\\"width:20%;border:1px solid black;background-color:#f2f2f2\\\">\\n            Contact Number/\\u0631\\u0642\\u0645 \\u062c\\u0647\\u0629 \\u0627\\u0644\\u0627\\u062a\\u0635\\u0627\\u0644\\n\\n        </td>\\n        <td style=\\\"width:29%;border:1px solid black\\\">\\n           {% if supp_con and supp_con.phone_nos %}\\n            {{ supp_con.phone_nos[0].phone }}\\n        {% endif %}\\n         \\n          \\n        </td>\\n          <td>\\n            \\n        </td>\\n         <td style=\\\"width:20%;border:1px solid black;background-color:#f2f2f2\\\">\\n             Contact Number / \\u0631\\u0642\\u0645 \\u062c\\u0647\\u0629 \\u0627\\u0644\\u0627\\u062a\\u0635\\u0627\\u0644\\n\\n</td>\\n        <td style=\\\"width:29%;border:1px solid black\\\">\\n            \\n            {{ comp_doc.phone_no or '' }}\\n        </td>\\n    </tr>\\n    <tr style=\\\"font-size:10px\\\">\\n        <td style=\\\"width:20%;border:1px solid black;background-color:#f2f2f2\\\">\\n            Email / \\u0627\\u0644\\u0628\\u0631\\u064a\\u062f \\u0627\\u0644\\u0627\\u0644\\u0643\\u062a\\u0631\\u0648\\u0646\\u064a\\n\\n        </td>\\n        <td style=\\\"width:29%;border:1px solid black\\\">\\n      {% if supp_con and supp_con.email_ids %}\\n       {{supp_con.email_ids[0].email_id}}\\n       {% endif %}\\n        </td>\\n          <td>\\n            \\n        </td>\\n         <td style=\\\"width:20%;border:1px solid black;background-color:#f2f2f2\\\">\\n             Email / \\u0627\\u0644\\u0628\\u0631\\u064a\\u062f \\u0627\\u0644\\u0627\\u0644\\u0643\\u062a\\u0631\\u0648\\u0646\\u064a\\n\\n</td>\\n        <td style=\\\"width:29%;border:1px solid black\\\">\\n            \\n            {{ comp_doc.email or '' }}\\n        </td>\\n    </tr>\\n   \\n    <tr style=\\\"font-size:10px\\\">\\n        <td style=\\\"width:20%;border:1px solid black;background-color:#f2f2f2\\\">Address\\n</td>\\n        <td style=\\\"width:29%;border:1px solid black\\\">\\n            {% if supplier_add_doc.address_line1 %}\\n            {{supplier_add_doc.address_line1}}\\n            {% endif %}\\n            </td>\\n          <td>\\n            \\n        </td>\\n         <td style=\\\"width:20%;border:1px solid black;background-color:#f2f2f2\\\">Address\\n\\n</td>\\n        <td style=\\\"width:29%;border:1px solid black\\\">\\n             {% if add_doc.address_line1 %}\\n            {{add_doc.address_line1}}\\n            {% endif %}\\n        </td>\\n    </tr>\\n    \\n    <tr style=\\\"font-size:10px\\\">\\n        <td style=\\\"width:20%;border:1px solid black;background-color:#f2f2f2\\\">\\n            \\u0627\\u0644\\u0639\\u0646\\u0648\\u0627\\u0646\\n\\n</td>\\n        <td style=\\\"width:29%;border:1px solid black\\\">\\n         {% if supplier_add_doc.address_line2 %}\\n             {{supplier_add_doc.address_line2}}\\n            {% endif %}\\n        </td>\\n          <td>\\n            \\n        </td>\\n         <td style=\\\"width:20%;border:1px solid black;background-color:#f2f2f2\\\">\\n             \\u0627\\u0644\\u0639\\u0646\\u0648\\u0627\\u0646\\n\\n\\n</td>\\n        <td style=\\\"width:29%;border:1px solid black\\\">\\n           {% if add_doc.address_line2 %}\\n            {{add_doc.address_line2}}\\n            {% endif %}\\n        </td>\\n    </tr>\\n    <tr style=\\\"line-height:1;\\\">\\n        <td>\\n            \\n        </td>\\n    </tr>\\n    \\n    <tr style=\\\"font-size:10px\\\">\\n        <td style=\\\"width:20%;border:1px solid black;background-color:#f2f2f2\\\">\\nPayment Terms / \\u0634\\u0631\\u0648\\u0637 \\u0627\\u0644\\u062f\\u0641\\u0639\\n\\n        </td>\\n        <td style=\\\"width:29%;border:1px solid black\\\">\\n            {{doc.payment_terms_template or ''}}\\n        </td>\\n          <td>\\n            \\n        </td>\\n         <td style=\\\"width:20%;border:1px solid black;background-color:#f2f2f2\\\">\\n            Project Name/ \\u0627\\u0633\\u0645 \\u0627\\u0644\\u0645\\u0634\\u0631\\u0648\\u0639\\n\\n\\n        </td>\\n        <td style=\\\"width:29%;border:1px solid black\\\">\\n            {{doc.project or ''}}\\n        </td>\\n         \\n    </tr>\\n    \\n</table>\\n<br>\\n\\n<table style=\\\"width:100%;font-size:10px\\\"  class=\\\"set-padding\\\">\\n    <thead>\\n    <tr style=\\\"background-color:#f2f2f2\\\">\\n        <td style=\\\"text-align:center;border:1px solid black;\\\">\\n            <b>\\u0645</b>\\n        </td>\\n        <td style=\\\"text-align:center;border:1px solid black;\\\">\\n            <b>\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0635\\u0646\\u0641</b>\\n        </td>\\n        <td style=\\\"text-align:center;border:1px solid black;\\\">\\n            <b>\\u0627\\u0644\\u0648\\u062d\\u062f\\u0629</b>\\n        </td>\\n        <td style=\\\"text-align:center;border:1px solid black;\\\">\\n            <b>\\u0627\\u0644\\u0643\\u0645\\u064a\\u0629</b>\\n        </td>\\n        <td style=\\\"text-align:center;border:1px solid black;\\\">\\n            <b>\\u0627\\u0644\\u0633\\u0639\\u0631</b>\\n        </td>\\n        <td style=\\\"text-align:center;border:1px solid black;\\\">\\n            <b>\\n                {% if doc.taxes %}\\n                    {{ doc.taxes[0].rate | int }}% \\u0627\\u0644\\u0636\\u0631\\u064a\\u0628\\u0629\\n                {% else %}\\n                    0% \\u0627\\u0644\\u0636\\u0631\\u064a\\u0628\\u0629\\n                {% endif %}\\n            </b>\\n        </td>\\n        <td style=\\\"text-align:center;border:1px solid black;\\\">\\n            <b>\\u0627\\u0644\\u0627\\u062c\\u0645\\u0627\\u0644\\u064a</b>\\n        </td>\\n    </tr>\\n\\n    <tr style=\\\"background-color:#f2f2f2\\\">\\n        <td style=\\\"border:1px solid black;text-align:center;\\\">\\n            <b>S.No</b>\\n        </td>\\n        \\n        <td style=\\\"border:1px solid black;text-align:center;\\\">\\n            <b>Description</b>\\n        </td>\\n        <td style=\\\"border:1px solid black;text-align:center;\\\">\\n            <b>Unit</b>\\n        </td>\\n        <td style=\\\"border:1px solid black;text-align:center;\\\">\\n            <b>Qty</b>\\n        </td>\\n        <td style=\\\"border:1px solid black;text-align:center;\\\">\\n            <b>Price</b>\\n        </td>\\n        <td style=\\\"border:1px solid black;text-align:center;\\\">\\n            <b>\\n                {% if doc.taxes %}\\n                    VAT {{ doc.taxes[0].rate | int }}% \\n                {% else %}\\n                    VAT 0%\\n                {% endif %}\\n            </b>\\n        </td>\\n        <td style=\\\"border:1px solid black;text-align:center;\\\">\\n            <b>Total</b>\\n        </td>\\n    </tr>\\n</thead>\\n\\n  <tr>\\n    {% for item in doc.items %}\\n    <td style=\\\"border:1px solid black; text-align:center;\\\">\\n        {{loop.index}}\\n        \\n    </td>\\n    <td style=\\\"border:1px solid black\\\">\\n    {{item.description}}\\n    </td>\\n    <td style=\\\"border:1px solid black;text-align:center;\\\">\\n       {{item.uom}}\\n    </td>\\n    <td style=\\\"border:1px solid black;text-align:right\\\">\\n        {{\\\"{:,.2f}\\\".format(item.qty)}}\\n    </td>\\n    <td style=\\\"border:1px solid black;text-align:right\\\">\\n       {{\\\"{:,.2f}\\\".format(item.rate)}}\\n    </td>\\n    {% if doc.additional_discount_percentage %}\\n        <td style=\\\"border:1px solid black; text-align:right\\\">\\n            {% if doc.taxes %}\\n                {% set taxable_amount = item.amount - (item.amount * doc.additional_discount_percentage / 100) %}\\n                {% set tax = (taxable_amount * (doc.taxes[0].rate or 0)) / 100 %}\\n                {{ tax | round(2) }}\\n            {% else %}\\n                0.00\\n            {% endif %}\\n        </td>\\n    {% else %}\\n        <td style=\\\"border:1px solid black; text-align:right\\\">\\n            {% if doc.taxes %}\\n                {{\\\"{:,.2f}\\\".format(item.amount * doc.taxes[0].rate / 100)}}\\n            {% else %}\\n                0.00\\n            {% endif %}\\n        </td>\\n    {% endif %}\\n    <td style=\\\"border:1px solid black;text-align:right\\\">\\n       {{\\\"{:,.2f}\\\".format(item.amount)}}\\n    </td>\\n</tr>\\n{% endfor %}\\n\\n</table>\\n<br>\\n<table style=\\\"width:100%;font-size:10px;page-break-inside:avoid;\\\" class=\\\"set-padding\\\">\\n    <tr>\\n        <td rowspan=\\\"4\\\" style=\\\"border:1px solid black; vertical-align:top;  border:1px solid black;\\\">\\n                \\n            <b>AMOUNT IN WORDS:</b><br>\\n            {{ doc.in_words }}<br>\\n            \\n            {% if doc.in_words_arabic %}\\n                <hr>\\n                <b style=\\\"text-align:right; display:block;\\\">:\\u0627\\u0644\\u0627\\u062c\\u0645\\u0627\\u0644\\u064a</b>\\n                <span style=\\\"text-align:right; display:block;\\\">{{ doc.in_words_arabic }}</span>\\n            {% endif %}\\n        </td>\\n        <td style=\\\"border:1px solid black;\\\">\\n            Net Total\\n        </td>\\n        <td style=\\\"border:1px solid black;text-align:center;\\\">\\n            \\u0627\\u0644\\u0627\\u062c\\u0645\\u0627\\u0644\\u0649 \\u0627\\u0644\\u0635\\u0627\\u0641\\u064a\\n        </td>\\n        <td style=\\\"border:1px solid black;text-align:right\\\">\\n            {{\\\"{:,.2f}\\\".format(doc.total)}}\\n        </td>\\n    </tr>\\n    <tr style=\\\"\\\">\\n        <td style=\\\"border:1px solid black\\\">\\n            Discount\\n        </td>\\n        <td style=\\\"border:1px solid black;text-align:center\\\">\\n            \\u0627\\u0644\\u062e\\u0635\\u0645\\n        </td>\\n        <td style=\\\"border:1px solid black;text-align:right\\\">\\n            {{ \\\"{:,.2f}\\\".format(doc.items | sum(attribute='discount_amount')  + doc.discount_amount ) if (doc.items | sum(attribute='discount_amount') + doc.discount_amount) not in [0, None] else \\\"0.00\\\" }}\\n        </td>\\n    </tr>\\n    <tr style=\\\"\\\">\\n        <td style=\\\"border:1px solid black\\\">\\n           {% if doc.taxes %}\\n                VAT {{ doc.taxes[0].rate | int }}% \\n            {% else %}\\n                VAT 0%\\n            {% endif %}\\n        </td>\\n        <td style=\\\"border:1px solid black;text-align:center\\\">\\n            {% if doc.taxes and doc.taxes[0].rate %}\\n                %{{ doc.taxes[0].rate | int }} \\u0642\\u064a\\u0645\\u0629 \\u0627\\u0644\\u0636\\u0631\\u064a\\u0628\\u0629  \\n            {% else %}\\n                %\\u0642\\u064a\\u0645\\u0629 \\u0627\\u0644\\u0636\\u0631\\u064a\\u0628\\u0629 0\\n            {% endif %}\\n    \\n        </td>\\n        <td style=\\\"border:1px solid black;text-align:right\\\">\\n            {{\\\"{:,.2f}\\\".format(doc.total_taxes_and_charges)}}\\n        </td>\\n    </tr>\\n    <tr style=\\\"\\\">\\n        <td style=\\\"border:1px solid black;font-weight:bold;\\\">\\n            Total\\n        </td>\\n        <td style=\\\"border:1px solid black;text-align:center;font-weight:bold;\\\">\\n            \\u0627\\u0644\\u0627\\u062c\\u0645\\u0627\\u0644\\u0649   \\n        </td>\\n        <td style=\\\"border:1px solid black;text-align:right;font-weight:bold;\\\">\\n            {{\\\"{:,.2f}\\\".format(doc.grand_total)}}\\n        </td>\\n    </tr>\\n    \\n</table>\\n{% if doc.terms %}\\n    <table style=\\\"width:100%;font-size:11px;page-break-inside:avoid;\\\">\\n        <tr>\\n            <td style=\\\"padding-left:2px !important;padding-bottom:2px !important;\\\">\\n                <b style=\\\"font-size:15px;\\\">Terms & Conditions:</b>\\n            </td>\\n        </tr>\\n        <tr>\\n            <td style=\\\"padding:2px !important;\\\">\\n                {{ doc.terms or '' }}\\n            </td>\\n        </tr>\\n    </table>\\n{% endif %}\\n\"}]",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 15.0,
 "margin_left": 15.0,
 "margin_right": 15.0,
 "margin_top": 15.0,
 "modified": "2025-04-16 19:38:48.580646",
 "modified_by": "Administrator",
 "module": "Ksa Print Formats",
 "name": "KSA Purchase Invoice",
 "owner": "Administrator",
 "page_number": "Hide",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}